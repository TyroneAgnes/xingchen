(()=>{var e={};e.id=2395,e.ids=[2395],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},97058:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>y,routeModule:()=>l,serverHooks:()=>g,workAsyncStorage:()=>m,workUnitAsyncStorage:()=>x});var r={};s.r(r),s.d(r,{GET:()=>d,POST:()=>c});var o=s(42706),a=s(28203),n=s(45994),i=s(39187),u=s(44512);let p=[{id:"1",type:"buy",symbol:"BTC/USDT",price:65e3,amount:.1,total:6500,status:"completed",createTime:"2024-03-10T10:00:00Z"},{id:"2",type:"sell",symbol:"ETH/USDT",price:3500,amount:1,total:3500,status:"completed",createTime:"2024-03-10T09:30:00Z"}];async function d(){try{let e=(0,u.b3)().get("Authorization");if(!e?.split(" ")[1])return i.NextResponse.json({code:1,message:"未登录"},{status:401});return i.NextResponse.json({code:0,data:p,message:"获取成功"})}catch(e){return console.error("获取交易记录失败:",e),i.NextResponse.json({code:1,message:"服务器错误"},{status:500})}}async function c(e){try{let t=(0,u.b3)().get("Authorization");if(!t?.split(" ")[1])return i.NextResponse.json({code:1,message:"未登录"},{status:401});let{type:s,symbol:r,price:o,amount:a}=await e.json(),n={id:Date.now().toString(),type:s,symbol:r,price:o,amount:a,total:o*a,status:"completed",createTime:new Date().toISOString()};return p.unshift(n),i.NextResponse.json({code:0,data:n,message:"交易成功"})}catch(e){return console.error("创建交易记录失败:",e),i.NextResponse.json({code:1,message:"服务器错误"},{status:500})}}let l=new o.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/trades/route",pathname:"/api/trades",filename:"route",bundlePath:"app/api/trades/route"},resolvedPagePath:"/Users/suntao/Desktop/星辰H52.0/app/api/trades/route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:m,workUnitAsyncStorage:x,serverHooks:g}=l;function y(){return(0,n.patchFetch)({workAsyncStorage:m,workUnitAsyncStorage:x})}},96487:()=>{},78335:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,5452,4512],()=>s(97058));module.exports=r})();