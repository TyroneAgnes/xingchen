exports.id=8301,exports.ids=[8301],exports.modules={21850:(e,t,r)=>{Promise.resolve().then(r.bind(r,71418)),Promise.resolve().then(r.bind(r,70677))},62018:(e,t,r)=>{Promise.resolve().then(r.bind(r,7998)),Promise.resolve().then(r.bind(r,27071))},28551:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,13219,23)),Promise.resolve().then(r.t.bind(r,34863,23)),Promise.resolve().then(r.t.bind(r,25155,23)),Promise.resolve().then(r.t.bind(r,40802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,48530,23)),Promise.resolve().then(r.t.bind(r,88921,23))},58815:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,66959,23)),Promise.resolve().then(r.t.bind(r,33875,23)),Promise.resolve().then(r.t.bind(r,88903,23)),Promise.resolve().then(r.t.bind(r,57174,23)),Promise.resolve().then(r.t.bind(r,84178,23)),Promise.resolve().then(r.t.bind(r,87190,23)),Promise.resolve().then(r.t.bind(r,61365,23))},96487:()=>{},78335:()=>{},7998:(e,t,r)=>{"use strict";r.d(t,{default:()=>s}),r(58009);var a=r(89586);function s(){let{processReturns:e}=(0,a.Pj)();return null}},27071:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>v});var a=r(45512),s=r(70801),n=r(58009),o=r(68952),i=r(21643),l=r(44269),u=r(59462);let d=o.Kq,m=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)(o.LM,{ref:r,className:(0,u.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));m.displayName=o.LM.displayName;let c=(0,i.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),f=n.forwardRef(({className:e,variant:t,...r},s)=>(0,a.jsx)(o.bL,{ref:s,className:(0,u.cn)(c({variant:t}),e),...r}));f.displayName=o.bL.displayName,n.forwardRef(({className:e,...t},r)=>(0,a.jsx)(o.rc,{ref:r,className:(0,u.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=o.rc.displayName;let p=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)(o.bm,{ref:r,className:(0,u.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:(0,a.jsx)(l.A,{className:"h-4 w-4"})}));p.displayName=o.bm.displayName;let g=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)(o.hE,{ref:r,className:(0,u.cn)("text-sm font-semibold",e),...t}));g.displayName=o.hE.displayName;let I=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)(o.VY,{ref:r,className:(0,u.cn)("text-sm opacity-90",e),...t}));function v(){let{toasts:e}=(0,s.dj)();return(0,a.jsxs)(d,{children:[e.map(function({id:e,title:t,description:r,action:s,...n}){return(0,a.jsxs)(f,{...n,children:[(0,a.jsxs)("div",{className:"grid gap-1",children:[t&&(0,a.jsx)(g,{children:t}),r&&(0,a.jsx)(I,{children:r})]}),s,(0,a.jsx)(p,{})]},e)}),(0,a.jsx)(m,{})]})}I.displayName=o.VY.displayName},70801:(e,t,r)=>{"use strict";r.d(t,{dj:()=>c,oR:()=>m});var a=r(58009);let s=0,n=new Map,o=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?o(r):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],u={toasts:[]};function d(e){u=i(u,e),l.forEach(e=>{e(u)})}function m({...e}){let t=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function c(){let[e,t]=a.useState(u);return a.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},89586:(e,t,r)=>{"use strict";r.d(t,{Pj:()=>p,Y$:()=>i,md:()=>l});var a=r(72803),s=r(19499),n=r(59462);let o={NORMAL:{name:"普通代理",directCount:0,teamCount:0},WHITE_SHEEP:{name:"白羊座",directCount:0,teamCount:2},GOLDEN_BULL:{name:"金牛座",directCount:3,teamCount:3},GEMINI:{name:"巨蟹座",directCount:5,teamCount:10},CANCER:{name:"狮子座",directCount:6,teamCount:30},VIRGO:{name:"处女座",directCount:7,teamCount:100},LIBRA:{name:"天秤座",directCount:8,teamCount:300},SCORPIO:{name:"天蝎座",directCount:10,teamCount:1e3},SAGITTARIUS:{name:"射手座",directCount:12,teamCount:3e3},CAPRICORN:{name:"摩羯座",directCount:15,teamCount:1e4},AQUARIUS:{name:"水瓶座",directCount:20,teamCount:2e4},PISCES:{name:"双鱼座",directCount:30,teamCount:5e4},TEACHER:{name:"双子座(教皇)",directCount:40,teamCount:8e4}},i=e=>{let t=Object.values(o),r=t.findIndex(t=>t.name===e);if(-1===r||r===t.length-1)return null;let a=t[r+1];return{name:a.name,directNeeded:a.directCount,teamNeeded:a.teamCount}},l=e=>{let t=i(e.vipName);return t?{directNeeded:Math.max(0,t.directNeeded-e.directCount),teamNeeded:Math.max(0,t.teamNeeded-e.teamCount)}:null},u=e=>{let t=o.NORMAL;return(Object.values(o).forEach(r=>{e.directCount>=r.directCount&&e.teamCount>=r.teamCount&&r.directCount>=t.directCount&&r.teamCount>=t.teamCount&&(t=r)}),e.vipName!==t.name)?{...e,vipName:t.name,vipLevel:Object.values(o).findIndex(e=>e.name===t.name)+1}:e},d=(e,t)=>{let r=t.find(t=>t.id===e);if(!r)return 0;let a=0;return r.referees.forEach(e=>{a+=1,a+=d(e,t)}),a},m=e=>e.map(t=>({...t,teamCount:d(t.id,e)})),c=(e,t)=>[{time:`${t} 09:30:00`,action:"buy",stockCode:"600519",stockName:"贵州茅台",price:1800,reason:"市场企稳，龙头股具有较强防御性"},{time:`${t} 14:30:00`,action:"sell",stockCode:"600519",stockName:"贵州茅台",price:1830,reason:"获利了结，注意控制仓位"}],f={weekly:{reward:1e3,requirements:{inviteCount:1,minDeposit:5e3,timeLimit:7}},fiveStars:{reward:5e3,requirements:{inviteCount:5,minDeposit:5e3,timeLimit:0}},threeDay:{reward:1e3,requirements:{inviteCount:1,minDeposit:5e3,timeLimit:3}},sevenDay:{reward:5e3,requirements:{inviteCount:5,minDeposit:5e3,timeLimit:7}},fifteenDay:{reward:1e4,requirements:{inviteCount:15,minDeposit:5e3,timeLimit:15}},thirtyDay:{reward:2e4,requirements:{inviteCount:30,minDeposit:5e3,timeLimit:30}}},p=(0,a.v)()((0,s.Zr)((e,t)=>({userInfo:null,isLoading:!1,userBalance:0,starWalletBalance:0,starInvestBalance:0,totalAssets:0,marketList:[],tradeRecords:[],theme:"light",registeredUsers:[{id:"ADMIN",username:"admin",nickname:"管理员",password:"admin888",inviteCode:"XC888888",referees:[],token:"admin-token",balance:"200000",starWalletBalance:"200000",starInvestBalance:"200000",vipLevel:1,vipName:"普通代理",teamCount:0,directCount:0,teamProfit:"0",totalProfit:"0",yesterdayProfit:"0",starInvestProfit:"0",starWalletProfit:"0",avatar:"/avatars/admin.jpg",createTime:new Date().toISOString(),isFirstLogin:!0,commission:"0",teamPerformance:"0",completedTasks:[],currentTasks:[],taskHistory:[]}],rechargeRecords:[],setUserInfo:t=>e({userInfo:t}),setLoading:t=>e({isLoading:t}),logout:()=>{document.cookie="token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",e({userInfo:null,isLoading:!1,userBalance:0,starWalletBalance:0,starInvestBalance:0,marketList:[],tradeRecords:[],rechargeRecords:[]})},login:async(r,a)=>{let s=t(),n=s.registeredUsers.find(e=>e.username===r&&e.password===a);if(n){let t={...n,balance:n.balance||"200000",starWalletBalance:n.starWalletBalance||"200000",starInvestBalance:n.starInvestBalance||"200000"};return e({userInfo:t,registeredUsers:s.registeredUsers.map(e=>e.id===t.id?t:e),userBalance:parseFloat(t.balance),starWalletBalance:parseFloat(t.starWalletBalance),starInvestBalance:parseFloat(t.starInvestBalance),tradeRecords:s.tradeRecords||[]}),document.cookie=`token=${t.token}; path=/; max-age=86400`,!0}return!1},register:async(r,a,s)=>{let n=t();if(n.registeredUsers.some(e=>e.username===r))return!1;let o=n.registeredUsers.find(e=>e.inviteCode.toUpperCase()===s.toUpperCase());if(!o)return!1;let i=n.generateUniqueId(),l={id:i,username:r,nickname:r,password:a,inviteCode:n.generateUniqueInviteCode(),referralCode:s,referrer:o.id,referees:[],token:Math.random().toString(36).substring(2),balance:"0",starWalletBalance:"0",starInvestBalance:"0",vipLevel:1,vipName:"普通代理",teamCount:0,directCount:0,teamProfit:"0",totalProfit:"0",yesterdayProfit:"0",starInvestProfit:"0",starWalletProfit:"0",avatar:"/avatars/default.png",createTime:new Date().toISOString(),isFirstLogin:!0,commission:"0",teamPerformance:"0",completedTasks:[],currentTasks:[],taskHistory:[]},u=m([...n.registeredUsers.map(e=>e.id===o.id?{...e,referees:[...e.referees,i],directCount:e.referees.length+1}:e),l]);return e({...t(),registeredUsers:u,userInfo:u.find(e=>e.id===l.id),userBalance:2e5,starWalletBalance:2e5,starInvestBalance:2e5}),!0},changePassword:async(r,a)=>{let s=t();if(!s.userInfo||s.userInfo.password!==r||a.length<8||a.length>20)return!1;let n={...s.userInfo,password:a};return e(e=>({userInfo:n,registeredUsers:e.registeredUsers.map(e=>e.id===n.id?n:e)})),!0},setUserBalance:t=>e({userBalance:t}),setStarWalletBalance:t=>e({starWalletBalance:t}),setStarInvestBalance:t=>e({starInvestBalance:t}),clearUserInfo:()=>e({userInfo:null}),marketList:[],setMarketList:t=>e({marketList:t}),updateMarketPrice:(t,r,a)=>e(e=>({marketList:e.marketList.map(e=>e.symbol===t?{...e,price:r,change:a}:e)})),tradeRecords:[],setTradeRecords:t=>e({tradeRecords:t}),addTradeRecord:t=>{let r=null;t.symbol.startsWith("星投-")?(r=(0,n.sJ)(t.total,t.mentorReturn||0),e(e=>({starInvestBalance:e.starInvestBalance+t.total,userInfo:e.userInfo?{...e.userInfo,starInvestBalance:(parseFloat(e.userInfo.starInvestBalance)+t.total).toFixed(2)}:null}))):t.symbol.startsWith("星钱包-")&&(r=(0,n.MN)(t.total));let a={...t,returnTime:r?.returnTime.toISOString(),returnAmount:r?.returnAmount};e(e=>({tradeRecords:[a,...e.tradeRecords]}))},calculateTotalAssets:()=>{let e=t();return e.userBalance+e.starWalletBalance+e.starInvestBalance},getYesterdayTotalProfit:()=>{let e=t();return e.userInfo?e.userInfo.yesterdayProfit:"0"},getStarInvestTotalProfit:()=>{let e=t();return e.userInfo?e.userInfo.starInvestProfit:"0"},getTodayStarWalletProfit:()=>{let e=t(),r=new Date().toISOString().split("T")[0];return e.tradeRecords.filter(e=>{if(!e.returnTime)return!1;let t=new Date(e.returnTime);return t.toISOString().split("T")[0]===r&&e.symbol.startsWith("星钱包-")&&10===t.getHours()}).reduce((e,t)=>e+(t.returnAmount||0),0).toFixed(2)},getDailyProfitCurve:()=>{let e=t(),r=new Map;return e.tradeRecords.filter(e=>e.returnAmount&&e.returnTime).forEach(e=>{let t=new Date(e.returnTime).toISOString().split("T")[0],a=r.get(t)||0;r.set(t,a+e.returnAmount)}),Array.from(r.entries()).map(([e,t])=>({date:e,profit:t})).sort((e,t)=>e.date.localeCompare(t.date))},processReturns:()=>{let r=t(),a=new Date,s=new Date(a);s.setDate(s.getDate()-1),r.tradeRecords.forEach(t=>{if("completed"===t.status&&t.returnTime&&t.returnAmount&&(0,n.en)(t.createTime,new Date(t.returnTime))){let r=new Date(t.returnTime),n=r.getDate()===s.getDate()&&r.getMonth()===s.getMonth()&&r.getFullYear()===s.getFullYear();e(e=>{let r=e.userInfo;if(!r)return e;let s=parseFloat(r.starInvestProfit),o=parseFloat(r.starWalletProfit),i=parseFloat(r.yesterdayProfit),l=e.userBalance,u=e.starWalletBalance,d=e.starInvestBalance;if(t.symbol.startsWith("星投-")){s+=t.returnAmount,l+=t.total+t.returnAmount,d-=t.total,n&&(i+=t.returnAmount);let m=t.mentorId?c(t.mentorId,t.createTime.split("T")[0]):[],f={id:`return-${t.id}`,type:"sell",symbol:t.symbol.replace("买入","返还"),price:t.price,amount:t.amount,total:t.returnAmount,status:"completed",createTime:t.createTime,returnTime:a.toISOString(),mentorId:t.mentorId,mentorName:t.mentorName,mentorTrades:m};return{userBalance:l,starWalletBalance:u,starInvestBalance:d,userInfo:{...r,balance:l.toFixed(2),starWalletBalance:u.toFixed(2),starInvestBalance:d.toFixed(2),starInvestProfit:s.toFixed(2),starWalletProfit:o.toFixed(2),yesterdayProfit:i.toFixed(2),totalProfit:(s+o).toFixed(2)},tradeRecords:[f,...e.tradeRecords]}}return t.symbol.startsWith("星钱包-")&&(o+=t.returnAmount,l+=t.total+t.returnAmount,u-=t.total,n&&(i+=t.returnAmount)),{userBalance:l,starWalletBalance:u,starInvestBalance:d,userInfo:{...r,balance:l.toFixed(2),starWalletBalance:u.toFixed(2),starInvestBalance:d.toFixed(2),starInvestProfit:s.toFixed(2),starWalletProfit:o.toFixed(2),yesterdayProfit:i.toFixed(2),totalProfit:(s+o).toFixed(2)}}})}}),setInterval(()=>{let t=new Date;0===t.getHours()&&0===t.getMinutes()&&e(e=>({userInfo:e.userInfo?{...e.userInfo,yesterdayProfit:"0"}:null}))},6e4)},updateTeamProfit:t=>{e(e=>{let r=e.userInfo;if(!r)return e;let a=parseFloat(r.teamProfit);return{userInfo:{...r,teamProfit:(a+t).toFixed(2)}}})},toggleTheme:()=>e(e=>({theme:"light"===e.theme?"dark":"light"})),generateUniqueId:()=>{let e;let r=t();do e=Math.random().toString(36).substring(2,10).toUpperCase();while(r.registeredUsers.some(t=>t.id===e));return e},generateUniqueInviteCode:()=>{let e;let r=t();do e="XC"+Array.from({length:6},()=>Math.floor(10*Math.random())).join("");while(r.registeredUsers.some(t=>t.inviteCode.toUpperCase()===e.toUpperCase()));return e},checkLevelUpgrade:()=>{let r=t();if(!r.userInfo)return;let a=u(r.userInfo);a!==r.userInfo&&e({userInfo:a,registeredUsers:r.registeredUsers.map(e=>e.id===a.id?a:e)})},checkTaskEligibility:()=>{let r=t();if(!r.userInfo)return;let a=new Date,s=new Date(r.userInfo.createTime),n=Math.floor((a.getTime()-s.getTime())/864e5),o=e=>{let t=new Date;return t.setDate(t.getDate()-e),r.registeredUsers.filter(e=>e.referrer===r.userInfo?.id&&new Date(e.createTime)>t&&parseFloat(e.balance)>=5e3)},i=new Date(a);i.setDate(a.getDate()-a.getDay()),i.setHours(0,0,0,0);let l=r.registeredUsers.filter(e=>e.referrer===r.userInfo?.id&&new Date(e.createTime)>i&&parseFloat(e.balance)>=5e3),u=r.registeredUsers.filter(e=>e.referrer===r.userInfo?.id&&parseFloat(e.balance)>=5e3);e(e=>{let t=e.userInfo;if(!t)return e;let r=[];return l.length>=1&&r.push({id:`weekly-${Date.now()}`,type:"weekly",status:"completed",createTime:i.toISOString(),completeTime:a.toISOString(),reward:f.weekly.reward,requirements:f.weekly.requirements}),u.length>=5&&r.push({id:`fiveStars-${Date.now()}`,type:"fiveStars",status:"completed",createTime:a.toISOString(),completeTime:a.toISOString(),reward:f.fiveStars.reward,requirements:f.fiveStars.requirements}),n<=30&&(n<=3&&o(3).length>=1&&r.push({id:`threeDay-${Date.now()}`,type:"threeDay",status:"completed",createTime:t.createTime,completeTime:a.toISOString(),reward:f.threeDay.reward,requirements:f.threeDay.requirements}),n<=7&&o(7).length>=5&&r.push({id:`sevenDay-${Date.now()}`,type:"sevenDay",status:"completed",createTime:t.createTime,completeTime:a.toISOString(),reward:f.sevenDay.reward,requirements:f.sevenDay.requirements}),n<=15&&o(15).length>=15&&r.push({id:`fifteenDay-${Date.now()}`,type:"fifteenDay",status:"completed",createTime:t.createTime,completeTime:a.toISOString(),reward:f.fifteenDay.reward,requirements:f.fifteenDay.requirements}),n<=30&&o(30).length>=30&&r.push({id:`thirtyDay-${Date.now()}`,type:"thirtyDay",status:"completed",createTime:t.createTime,completeTime:a.toISOString(),reward:f.thirtyDay.reward,requirements:f.thirtyDay.requirements})),{userInfo:{...t,currentTasks:r}}})},getTaskProgress:e=>{let r=t();if(!r.userInfo)return{completed:0,required:0,timeLeft:0};let a=new Date,s=new Date(r.userInfo.createTime),n=f[e],o=e=>{let t=new Date;return t.setDate(t.getDate()-e),r.registeredUsers.filter(e=>e.referrer===r.userInfo?.id&&new Date(e.createTime)>t&&parseFloat(e.balance)>=n.requirements.minDeposit).length},i=0,l=0;switch(e){case"weekly":{let e=new Date(a);e.setDate(a.getDate()-a.getDay()),e.setHours(0,0,0,0),i=o(7),l=7-a.getDay();break}case"fiveStars":i=o(0),l=0;break;case"threeDay":i=o(3),l=Math.max(0,3-Math.floor((a.getTime()-s.getTime())/864e5));break;case"sevenDay":i=o(7),l=Math.max(0,7-Math.floor((a.getTime()-s.getTime())/864e5));break;case"fifteenDay":i=o(15),l=Math.max(0,15-Math.floor((a.getTime()-s.getTime())/864e5));break;case"thirtyDay":i=o(30),l=Math.max(0,30-Math.floor((a.getTime()-s.getTime())/864e5))}return{completed:i,required:n.requirements.inviteCount,timeLeft:l}},withdrawCommission:async r=>{let a=t();if(!a.userInfo)return!1;let s=parseFloat(a.userInfo.commission);return!(r>s)&&(e(e=>({userInfo:{...e.userInfo,commission:(s-r).toFixed(2),balance:(parseFloat(e.userInfo.balance)+r).toFixed(2)}})),!0)},submitWeeklyTask:async()=>{let r=t().getTaskProgress("weekly");if(r.completed<r.required)return!1;let a=f.weekly.reward;return e(e=>({userInfo:{...e.userInfo,commission:(parseFloat(e.userInfo.commission)+a).toFixed(2),teamPerformance:(parseFloat(e.userInfo.teamPerformance)+a).toFixed(2)}})),!0},submitFiveStarsTask:async()=>{let r=t().getTaskProgress("fiveStars");if(r.completed<r.required)return!1;let a=f.fiveStars.reward;return e(e=>({userInfo:{...e.userInfo,commission:(parseFloat(e.userInfo.commission)+a).toFixed(2),teamPerformance:(parseFloat(e.userInfo.teamPerformance)+a).toFixed(2),taskHistory:[...e.userInfo.taskHistory,{taskId:`fiveStars-${Date.now()}`,type:"fiveStars",completeTime:new Date().toISOString(),reward:a}]}})),!0},submitThreeDayTask:async()=>{let r=t().getTaskProgress("threeDay");if(r.completed<r.required||r.timeLeft<=0)return!1;let a=f.threeDay.reward;return e(e=>({userInfo:{...e.userInfo,commission:(parseFloat(e.userInfo.commission)+a).toFixed(2),teamPerformance:(parseFloat(e.userInfo.teamPerformance)+a).toFixed(2),completedTasks:[...e.userInfo.completedTasks,{id:`threeDay-${Date.now()}`,type:"threeDay",status:"completed",createTime:e.userInfo.createTime,completeTime:new Date().toISOString(),reward:a,requirements:f.threeDay.requirements}]}})),!0},submitSevenDayTask:async()=>{let r=t().getTaskProgress("sevenDay");if(r.completed<r.required||r.timeLeft<=0)return!1;let a=f.sevenDay.reward;return e(e=>({userInfo:{...e.userInfo,commission:(parseFloat(e.userInfo.commission)+a).toFixed(2),teamPerformance:(parseFloat(e.userInfo.teamPerformance)+a).toFixed(2),taskHistory:[...e.userInfo.taskHistory,{taskId:`sevenDay-${Date.now()}`,type:"sevenDay",completeTime:new Date().toISOString(),reward:a}]}})),!0},submitFifteenDayTask:async()=>{let r=t().getTaskProgress("fifteenDay");if(r.completed<r.required||r.timeLeft<=0)return!1;let a=f.fifteenDay.reward;return e(e=>({userInfo:{...e.userInfo,commission:(parseFloat(e.userInfo.commission)+a).toFixed(2),teamPerformance:(parseFloat(e.userInfo.teamPerformance)+a).toFixed(2),completedTasks:[...e.userInfo.completedTasks,{id:`fifteenDay-${Date.now()}`,type:"fifteenDay",status:"completed",createTime:e.userInfo.createTime,completeTime:new Date().toISOString(),reward:a,requirements:f.fifteenDay.requirements}]}})),!0},submitThirtyDayTask:async()=>{let r=t().getTaskProgress("thirtyDay");if(r.completed<r.required||r.timeLeft<=0)return!1;let a=f.thirtyDay.reward;return e(e=>({userInfo:{...e.userInfo,commission:(parseFloat(e.userInfo.commission)+a).toFixed(2),teamPerformance:(parseFloat(e.userInfo.teamPerformance)+a).toFixed(2),completedTasks:[...e.userInfo.completedTasks,{id:`thirtyDay-${Date.now()}`,type:"thirtyDay",status:"completed",createTime:e.userInfo.createTime,completeTime:new Date().toISOString(),reward:a,requirements:f.thirtyDay.requirements}]}})),!0},rechargeRecords:[],submitRecharge:async(r,a)=>{let s=t();if(!s.userInfo)return!1;let n={id:Math.random().toString(36).substring(2),userId:s.userInfo.id,amount:r,imageUrl:a,status:"pending",createTime:new Date().toISOString()};return e(e=>({rechargeRecords:[...e.rechargeRecords,n]})),!0},approveRecharge:async r=>{let a=t().rechargeRecords.find(e=>e.id===r);return!!a&&"pending"===a.status&&(e(e=>{let t=e.userInfo;if(!t)return e;let s=parseFloat(t.balance)+a.amount;return{userInfo:{...t,balance:s.toFixed(2)},rechargeRecords:e.rechargeRecords.map(e=>e.id===r?{...e,status:"approved",approveTime:new Date().toISOString()}:e)}}),!0)},rejectRecharge:async(r,a)=>{let s=t().rechargeRecords.find(e=>e.id===r);return!!s&&"pending"===s.status&&(e(e=>({rechargeRecords:e.rechargeRecords.map(e=>e.id===r?{...e,status:"rejected",rejectReason:a}:e)})),!0)},getUserRechargeRecords:()=>{let e=t();return e.userInfo?e.rechargeRecords.filter(t=>t.userId===e.userInfo?.id):[]}}),{name:"app-storage",partialize:e=>({theme:e.theme,registeredUsers:e.registeredUsers,userInfo:e.userInfo,userBalance:e.userBalance,starWalletBalance:e.starWalletBalance,starInvestBalance:e.starInvestBalance,tradeRecords:e.tradeRecords,rechargeRecords:e.rechargeRecords,totalAssets:e.calculateTotalAssets()}),version:6,migrate:e=>({...e,totalAssets:0,userInfo:e.userInfo||null,userBalance:e.userBalance||0,starWalletBalance:e.starWalletBalance||0,starInvestBalance:e.starInvestBalance||0,tradeRecords:e.tradeRecords||[],theme:e.theme||"light",registeredUsers:e.registeredUsers||[{id:"ADMIN",username:"admin",nickname:"管理员",password:"admin888",inviteCode:"XC888888",referees:[],token:"admin-token",balance:"200000",starWalletBalance:"200000",starInvestBalance:"200000",vipLevel:1,vipName:"普通代理",teamCount:0,directCount:0,teamProfit:"0",totalProfit:"0",yesterdayProfit:"0",starInvestProfit:"0",starWalletProfit:"0",avatar:"/avatars/admin.jpg",createTime:new Date().toISOString(),isFirstLogin:!0,commission:"0",teamPerformance:"0",completedTasks:[],currentTasks:[],taskHistory:[]}],rechargeRecords:e.rechargeRecords||[]})}))},59462:(e,t,r)=>{"use strict";r.d(t,{MN:()=>i,cn:()=>n,en:()=>l,sJ:()=>o});var a=r(82281),s=r(94805);function n(...e){return(0,s.QP)((0,a.$)(e))}let o=(e,t=0)=>{let r=new Date;return r.setHours(10,0,0,0),r.setDate(r.getDate()+1),{returnTime:r,returnAmount:e+.012*e}};function i(e){return{returnTime:function(e,t){let r=new Date,a=new Date(r);return a.setDate(r.getDate()+1),a.setHours(10,0,0,0),a}(0,0),returnAmount:e+.012*e}}function l(e,t){let r=new Date,a=new Date(e);return r>=t&&a<=t}},19611:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>o});var a=r(62740),s=r(70677),n=r(71418);r(82704);let o={title:"v0 App",description:"Created with v0",generator:"v0.dev"};function i({children:e}){return(0,a.jsx)("html",{lang:"en",children:(0,a.jsxs)("body",{children:[(0,a.jsx)(n.default,{}),e,(0,a.jsx)(s.Toaster,{})]})})}},84717:(e,t,r)=>{"use strict";function a(){return null}r.r(t),r.d(t,{default:()=>a})},71418:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/suntao/Desktop/星辰H52.0/components/returns-processor.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/suntao/Desktop/星辰H52.0/components/returns-processor.tsx","default")},70677:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/suntao/Desktop/星辰H52.0/components/ui/toaster.tsx","Toaster")},82704:()=>{}};