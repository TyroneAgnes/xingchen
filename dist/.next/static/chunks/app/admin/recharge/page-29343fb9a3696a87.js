(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7262],{4721:(e,s,a)=>{Promise.resolve().then(a.bind(a,2368))},2368:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>x});var t=a(5155),i=a(5565),r=a(5007),c=a(4085),l=a(9134),n=a(4223),d=a(866),m=a(5346);function x(){let{toast:e}=(0,l.dj)(),s=(0,m.Pj)(e=>e.rechargeRecords),a=(0,m.Pj)(e=>e.approveRecharge),x=(0,m.Pj)(e=>e.rejectRecharge),h=async s=>{try{if(await a(s.id))e({title:"审核成功",description:"充值已通过审核并已添加到用户余额"});else throw Error("审核失败")}catch(s){e({title:"审核失败",description:s instanceof Error?s.message:"未知错误",variant:"destructive"})}},o=async s=>{try{if(await x(s.id,"充值凭证不符合要求，请重新提交"))e({title:"已拒绝充值申请",description:"已通知用户充值被拒绝"});else throw Error("操作失败")}catch(s){e({title:"操作失败",description:s instanceof Error?s.message:"未知错误",variant:"destructive"})}},j=s.filter(e=>"pending"===e.status);return(0,t.jsx)(d.A,{children:(0,t.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,t.jsx)(n.A,{title:"充值审核"}),(0,t.jsx)("main",{className:"flex-1 container max-w-md mx-auto p-4",children:(0,t.jsx)("div",{className:"space-y-4",children:0===j.length?(0,t.jsx)(r.Zp,{className:"p-4 text-center text-gray-500",children:"暂无待审核的充值申请"}):j.map(e=>(0,t.jsx)(r.Zp,{className:"p-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm font-medium",children:["充值金额: \xa5",e.amount]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["申请时间: ",new Date(e.createTime).toLocaleString()]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-2",children:"支付凭证:"}),(0,t.jsx)("div",{className:"relative w-full h-48",children:(0,t.jsx)(i.default,{src:e.imageUrl,alt:"支付凭证",fill:!0,className:"object-contain"})})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(c.$,{className:"flex-1",onClick:()=>h(e),children:"通过"}),(0,t.jsx)(c.$,{variant:"destructive",className:"flex-1",onClick:()=>o(e),children:"拒绝"})]})]})},e.id))})})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[7525,59,5346,4557,8441,1517,7358],()=>s(4721)),_N_E=e.O()}]);